<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aplikasi Agenda Dusun Karangturi RT 07</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        .gradient-blue {
            background: linear-gradient(135deg, #1e3a8a, #60a5fa);
        }
        .calendar table {
            width: 100%;
            border-collapse: collapse;
            text-align: center;
        }
        .calendar th, .calendar td {
            padding: 10px;
            border: 1px solid #ddd;
        }
        .calendar th {
            background-color: #1e3a8a;
            color: white;
        }
        .calendar td {
            cursor: pointer;
        }
        .calendar td:hover {
            background-color: #e2e6ea;
        }
        .calendar .current-day {
            background-color: #28a745;
            color: white;
            font-weight: bold;
        }
        .calendar .has-agenda {
            background-color: #ffeb3b;
        }
        .section-title {
            color: #1e3a8a;
            border-bottom: 3px solid #60a5fa;
            padding-bottom: 0.5rem;
        }
    </style>
</head>
<body class="bg-gray-100 font-sans">
    <header class="bg-gradient-to-r from-blue-800 to-blue-600 text-white py-6">
        <div class="container mx-auto px-4 flex flex-col md:flex-row items-center justify-between">
            <div class="logo flex items-center space-x-4">
                <i class="fas fa-wifi text-4xl"></i>
                <div>
                    <h1 class="text-2xl font-bold">RT 07 Net</h1>
                    <p class="text-sm">Dusun Karangturi, Baturetno, Banguntapan, Bantul</p>
                </div>
            </div>
            <nav class="mt-4 md:mt-0">
                <ul class="flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-6">
                    <li><a href="index.html" class="hover:underline">Home</a></li>
                    <li><a href="https://rebahinxxi1.work/?__cf_chl_rt_tk=AOau7JvVZdd5qH7E3LKdXD8o_kaZLBtUI4Ug2lllnks-1758007430-1.0.1.1-mK08koeoFHPoru0y0m8BuzdevAtpXTt9EfTNJoKNTh4" class="hover:underline">Film & TV</a></li>
                    <li><a href="agenda.html" class="hover:underline">Agenda Warga</a></li>
                    <li><a href="index.html#pengumuman" class="hover:underline">Pengumuman</a></li>
                    <li><a href="index.html#cctv" class="hover:underline">CCTV Jogja</a></li>
                    <li><a href="#" class="hover:underline">Internet Status</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="container mx-auto px-4 py-8 flex flex-col md:flex-row gap-6">
        <div class="bg-white p-6 rounded-lg shadow-md md:w-1/3">
            <h2 class="section-title text-xl font-bold mb-4">Tambah Agenda Baru</h2>
            <form id="agendaForm">
                <label for="agendaDate" class="block mb-2 font-medium">Tanggal:</label>
                <input type="date" id="agendaDate" class="w-full p-2 border rounded mb-4" required>
                <label for="agendaTime" class="block mb-2 font-medium">Waktu:</label>
                <input type="time" id="agendaTime" class="w-full p-2 border rounded mb-4" required>
                <label for="agendaTitle" class="block mb-2 font-medium">Kegiatan:</label>
                <input type="text" id="agendaTitle" class="w-full p-2 border rounded mb-4" placeholder="Masukkan nama kegiatan" required>
                <button type="submit" class="w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700">Tambah Agenda</button>
            </form>
        </div>

        <div class="bg-white p-6 rounded-lg shadow-md md:w-1/3">
            <h2 class="section-title text-xl font-bold mb-4">Daftar Agenda</h2>
            <ul id="agendaList" class="space-y-4"></ul>
        </div>

        <div class="bg-white p-6 rounded-lg shadow-md md:w-1/3">
            <h2 class="section-title text-xl font-bold mb-4">Kalender</h2>
            <div class="calendar-header flex justify-between items-center mb-4">
                <button onclick="prevMonth()" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Previous</button>
                <h3 id="monthYear" class="text-lg font-semibold"></h3>
                <button onclick="nextMonth()" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Next</button>
            </div>
            <div class="calendar">
                <table id="calendarTable">
                    <thead>
                        <tr>
                            <th>Sen</th>
                            <th>Sel</th>
                            <th>Rab</th>
                            <th>Kam</th>
                            <th>Jum</th>
                            <th>Sab</th>
                            <th>Min</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>
    </main>

    <footer class="bg-blue-800 text-white py-4 text-center">
        <p>&copy; 2025 RT 07 Net - Dusun Karangturi, Baturetno, Banguntapan, Bantul</p>
    </footer>

    <script>
        const agendaForm = document.getElementById('agendaForm');
        const agendaList = document.getElementById('agendaList');
        const calendarTable = document.getElementById('calendarTable').getElementsByTagName('tbody')[0];
        const monthYear = document.getElementById('monthYear');
        let currentMonth = new Date().getMonth();
        let currentYear = new Date().getFullYear();
        let agendas = JSON.parse(localStorage.getItem('agendas')) || [];

        // Fungsi untuk menyimpan agenda ke localStorage
        function saveAgenda(agenda) {
            agendas.push(agenda);
            localStorage.setItem('agendas', JSON.stringify(agendas));
            displayAgendas(agenda.date);
            generateCalendar(currentMonth, currentYear);
        }

        // Fungsi untuk menampilkan agenda berdasarkan tanggal
        function displayAgendas(selectedDate) {
            agendaList.innerHTML = '';
            const filteredAgendas = agendas.filter(agenda => agenda.date === selectedDate);
            filteredAgendas.forEach(agenda => {
                const li = document.createElement('li');
                li.className = 'bg-gray-50 p-4 rounded-lg shadow-sm';
                li.innerHTML = `
                    <h3 class="font-semibold">${agenda.title}</h3>
                    <p><strong>Tanggal:</strong> ${agenda.date}</p>
                    <p><strong>Waktu:</strong> ${agenda.time}</p>
                `;
                agendaList.appendChild(li);
            });
        }

        // Fungsi untuk menambahkan agenda baru
        agendaForm.addEventListener('submit', function(event) {
            event.preventDefault();
            const date = document.getElementById('agendaDate').value;
            const time = document.getElementById('agendaTime').value;
            const title = document.getElementById('agendaTitle').value;

            const agenda = { date, time, title };
            saveAgenda(agenda);
            agendaForm.reset();
        });

        // Fungsi untuk membuat kalender
        function generateCalendar(month, year) {
            const today = new Date();
            const firstDay = new Date(year, month).getDay();
            const daysInMonth = 32 - new Date(year, month, 32).getDate();
            calendarTable.innerHTML = '';

            const monthNames = ['Januari', 'Februari', 'Maret', 'April', 'Mei', 'Juni', 'Juli', 'Agustus', 'September', 'Oktober', 'November', 'Desember'];
            monthYear.textContent = `${monthNames[month]} ${year}`;

            let date = 1;
            for (let i = 0; i < 6; i++) {
                const row = document.createElement('tr');
                for (let j = 0; j < 7; j++) {
                    if (i === 0 && j < (firstDay === 0 ? 6 : firstDay - 1)) {
                        const cell = document.createElement('td');
                        row.appendChild(cell);
                    } else if (date > daysInMonth) {
                        break;
                    } else {
                        const cell = document.createElement('td');
                        cell.textContent = date;
                        const cellDate = `${year}-${String(month + 1).padStart(2, '0')}-${String(date).padStart(2, '0')}`;
                        
                        if (date === today.getDate() && year === today.getFullYear() && month === today.getMonth()) {
                            cell.classList.add('current-day');
                        }

                        if (agendas.some(agenda => agenda.date === cellDate)) {
                            cell.classList.add('has-agenda');
                        }

                        cell.addEventListener('click', () => {
                            displayAgendas(cellDate);
                        });

                        row.appendChild(cell);
                        date++;
                    }
                }
                calendarTable.appendChild(row);
            }
        }

        // Fungsi untuk navigasi bulan
        function prevMonth() {
            currentMonth--;
            if (currentMonth < 0) {
                currentMonth = 11;
                currentYear--;
            }
            generateCalendar(currentMonth, currentYear);
        }

        function nextMonth() {
            currentMonth++;
            if (currentMonth > 11) {
                currentMonth = 0;
                currentYear++;
            }
            generateCalendar(currentMonth, currentYear);
        }

        // Inisialisasi kalender saat halaman dimuat
        generateCalendar(currentMonth, currentYear);
    </script>
</body>
</html>
